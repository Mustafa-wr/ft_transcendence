{% load static %}

{% block content %}
<div class="page-content container p-0 bg-black text-light text-center" style="min-height: 100%;" id="statsPage">
    <div class="pb-3">
        <fieldset class="border rounded-5 p-2 text-light text-break text-start d-inline-block">
            <legend class="display-6 float-none w-auto p-0" style="color:fuchsia;">Stats</legend>
            <table class="table-responsive overflow-hidden">
                <tr>
                    <th scope="col" class="text-start px-2"></th>
                    <th scope="col" class="text-end px-2">Totals</th>
                    <th scope="col"></th>
                </tr>
                <tr>
                    <td class="text-start px-2">Matches&ensp;</td>
                    <td class="text-end text-warning px-2">{{ match_count }}</td>
                </tr>
                <tr>
                    <td class="text-start px-2">Wins&ensp;</td>
                    <td class="text-end text-success px-2">{{ total_wins }}</td>
                </tr>
                <tr>
                    <td class="text-start px-2">Losses&ensp;</td>
                    <td class="text-end text-danger px-2">{{ total_losses }}</td>
                </tr>
                <tr>
                    <td class="text-start px-2 pb-3">Success Ratio&ensp;</td>
                    <td class="text-end text-info px-2 pb-3">{{ success_ratio|default:"N/A"|floatformat:"2" }}%</td>
                </tr>
            </table>
        </fieldset>
        <fieldset class="p-0 text-light text-break text-start">
            <legend class="display-6 float-none w-auto pt-2" style="color:fuchsia;">Match History</legend>
            <table class="table table-responsive overflow-hidden">
                {% for match in matches %}
                <tr>
                    <td class="bg-black text-light">Date:&nbsp<strong>{{ match.match_date }}</strong> &nbsp; Time:&nbsp<strong>{{ match.match_time }}</strong> &nbsp;&nbsp; </td> 
                    <td class="bg-black text-light">Winner:&nbsp<strong  class="text-success">{{ match.match_winner }}</strong> &nbsp;&nbsp; </td>
                    <td class="bg-black text-light">Score:&nbsp<strong>{{ match.winner_score }}</strong>&nbsp x &nbsp <strong>{{ match.loser_score }}</strong> &nbsp;&nbsp; </td>
                    <td class="bg-black text-light">Loser:&nbsp<strong  class="text-danger">{{ match.match_loser }}</strong>  &nbsp;&nbsp;  </td>
                </tr>
                {% empty %}
                    <td class="bg-black text-warning">No matches played</td>
                {% endfor %}
        </fieldset>
    </div>
</div>
{% endblock %}